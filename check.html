<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>OHDSI Covid-19 Visualization Challenge</title>

	<!-- D3.js -->	
    <script src="https://d3js.org/d3.v3.js"></script>
	
	<!-- jQuery -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	
	<!-- Open Sans & CSS -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:700,400,300" rel='stylesheet' type='text/css'>
	<!-- viridis colors -->
	<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
	
	  <style>
		body {
		  font-family: 'Open Sans', sans-serif;
		  font-size: 12px;
		  font-weight: 400;
		  color: #525252;
		  text-align: center;
		}	
		
		line {
		  stroke: #000;
		  stroke-width: 1.px;
		}

		text {
		  font-size: 8px;
		}

		.titles{
		  font-size: 10px;
		}
		
		#tooltip {
        color: white;
        opacity: .5;
        background: #333;
        padding: 5px;
        border: 10px solid lightgrey;
        border-radius: 5px;
        position: absolute;
        z-index: 10;
        visibility: hidden;
        white-space: nowrap;
        /*pointer-events: none;*/
      }
      #circle circle {
        fill: none;
        pointer-events: all;
      }
      path.chord {
		  fill-opacity: .80;
		  stroke: #000;
      stroke-width: .00000025px;
		}
      path.group {
        fill-opacity: .;
      }
      #circle:hover path.fade {
        fill-opacity: 0.02;
      }
      #container {
    width: 300px;
    background-color: #ffcc33;
    margin: auto;
}
/*#first {
    width: 100px;
    float: left;
    height: 300px;
        background-color: blue;
}
#second {
    width: 200px;
    float: left;
    height: 300px;
    background-color: green;
}
#clear {
    clear: both;
}*/
.container:hover {
  -ms-transform: scale(1.5); /* IE 9 */
  -webkit-transform: scale(1.5); /* Safari 3-8 */
  transform: scale(1.5); 
}
  </style>
  </head>
  <body>
    <h1>OHDSI Covid-19 Visualization Challenge</h1>
    
    <h2>In development...</h2> <br />

    <div id="container"></div>
      <div id="chart" style = "float:right;width:55%;" class="container"></div>
      <div style = "float:left;width:35%;">
    <h2>Why a chord diagram</h2>
    <p>Having the ability to display huge junks of information in a chart while maintaining clarity and readability is a challenge in itself. Critical to a good visualization is the ability to unbiasedly represent the data to ensure that information is appropriately displayed and allows for further exploration. One way to represent hierarchical data, in other words, data collected through multi-center, multi-national network studies, is through a chord diagram. A chord diagram helps to represent relationships (edges) between entities (nodes).</p> 
    <br />
    <h2>How I made this</h2>
    <p>This graph is as inspiration from the work of many people. First and foremost, the OHDSI team and its members that generated the CHARYBDIS study, from which the information displayd in this chord diagram is obtained. The data was dowloaded from the <a href="https://data.ohdsi.org/Covid19CharacterizationCharybdis/">OHDSI's data repository</a>. It was then parsed to R, where a basic exploration was done. The data consisted of information about patients from 8 databases and 54452 risk factors based on conditions and medications, grouped in three categories:<br /> 
    a) cohort during day -365 through -1 days overlap the index, <br /> 
    b) cohort during day -30 through -1 days overlap the index,<br /> 
    c) cohort during day 1 through 30 days overlap the index. <br /> 
    A decision was made to display all risk factors that concerned all conditions included in the data in the last year prior to index date. It resulted to the inclusion of 40 distinct risk factors in a total of 246 covariates.</p> 
    </div>
    <div id="tooltip"></div>
      <script src="d3_2.js"></script>
    
	
  </body>
</html>